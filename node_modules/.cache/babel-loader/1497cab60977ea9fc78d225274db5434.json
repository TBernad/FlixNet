{"ast":null,"code":"import _regeneratorRuntime from\"/home/tbernad/Projets/flixnet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tbernad/Projets/flixnet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tbernad/Projets/flixnet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"./MovieList.css\";import MovieListHeading from\"./MovieListHeading\";import\"./Row.css\";import SearchBox from\"./SearchBox\";import InfoComponent from\"./Info\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MovieList(props){var _useState=useState([{Title:\"Alien\",Year:\"1979\",imdbID:\"tt0078748\",Type:\"movie\",Poster:\"https://m.media-amazon.com/images/M/MV5BMmQ2MmU3NzktZjAxOC00ZDZhLTk4YzEtMDMyMzcxY2IwMDAyXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg\"},{Title:\"Gladiator\",Year:\"2000\",imdbID:\"tt0172495\",Type:\"movie\",Poster:\"https://m.media-amazon.com/images/M/MV5BMDliMmNhNDEtODUyOS00MjNlLTgxODEtN2U3NzIxMGVkZTA1L2ltYWdlXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SX300.jpg\"},{Title:\"The Lord of the Rings: The Fellowship of the Ring\",Year:\"2001\",imdbID:\"tt0120737\",Type:\"movie\",Poster:\"https://m.media-amazon.com/images/M/MV5BN2EyZjM3NzUtNWUzMi00MTgxLWI0NTctMzY4M2VlOTdjZWRiXkEyXkFqcGdeQXVyNDUzOTQ5MjY@._V1_SX300.jpg\"},{Title:\"Hacksaw Ridge\",Year:\"2016\",imdbID:\"tt2119532\",Type:\"movie\",Poster:\"https://m.media-amazon.com/images/M/MV5BMjQ1NjM3MTUxNV5BMl5BanBnXkFtZTgwMDc5MTY5OTE@._V1_SX300.jpg\"},{Title:\"A Quiet Place Part II\",Year:\"2020\",imdbID:\"tt8332922\",Type:\"movie\",Poster:\"https://m.media-amazon.com/images/M/MV5BMTE2ODU4NDEtNmRjNS00OTk1LTg4NmMtNTAzYzVlNzJmYjgzXkEyXkFqcGdeQXVyODk4OTc3MTY@._V1_SX300.jpg\"},{Title:\"The Godfather\",Year:\"1972\",imdbID:\"tt0068646\",Type:\"movie\",Poster:\"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg\"},{Title:\"Pulp Fiction\",Year:\"1994\",imdbID:\"tt0110912\",Type:\"movie\",Poster:\"https://m.media-amazon.com/images/M/MV5BNGNhMDIzZTUtNTBlZi00MTRlLWFjM2ItYzViMjE3YzI5MjljXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg\"},{Title:\"The Dark Knight\",Year:\"2008\",imdbID:\"tt0468569\",Type:\"movie\",Poster:\"https://m.media-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_SX300.jpg\"}]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),infosArray=_useState6[0],setInfoArray=_useState6[1];var FavouriteComponent=props.favouriteComponent;var getMovieRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchValue){var url,response,responseJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"http://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=fe790038\");_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;if(responseJson.Search){setMovies(responseJson.Search);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getMovieRequest(_x){return _ref.apply(this,arguments);};}();var getInfoMovie=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(movie){var url,response,responseJson,MovieInfos;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"http://www.omdbapi.com/?i=\".concat(movie.imdbID,\"&apikey=fe790038\");_context2.next=3;return fetch(url);case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:responseJson=_context2.sent;MovieInfos=Object.values(responseJson);console.log(MovieInfos);if(MovieInfos){setInfoArray(MovieInfos);}case 10:case\"end\":return _context2.stop();}}},_callee2);}));return function getInfoMovie(_x2){return _ref2.apply(this,arguments);};}();useEffect(function(){getMovieRequest(searchValue);},[searchValue]);return[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex align-items-center mt-4 mb-2\",children:[/*#__PURE__*/_jsx(MovieListHeading,{heading:\"Movies\"}),/*#__PURE__*/_jsx(SearchBox,{searchValue:searchValue,setSearchValue:setSearchValue})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row_posters\",children:movies.map(function(movie,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"row_posterList\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"\",src:movie.Poster//movies[13]\n,alt:movie.Title//movies[0]\n}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return getInfoMovie(movie);},className:\"info-overlay d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(InfoComponent,{})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return props.handleFavouritesClick(movie);},className:\"overlay d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(FavouriteComponent,{})})]});})})}),/*#__PURE__*/_jsxs(\"details\",{children:[/*#__PURE__*/_jsx(\"summary\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"details-title\",children:\"Details\"})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Title : \",infosArray[0]]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Year : \",infosArray[1]]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Runtime : \",infosArray[4]]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Director: \",infosArray[6]]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Imdb Rating : \",infosArray[16]]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Awards : \",infosArray[12]]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Plot : \",infosArray[9]]})]})]})]})];}export default MovieList;","map":{"version":3,"sources":["/home/tbernad/Projets/flixnet/src/Components/MovieList.js"],"names":["React","useEffect","useState","MovieListHeading","SearchBox","InfoComponent","MovieList","props","Title","Year","imdbID","Type","Poster","movies","setMovies","searchValue","setSearchValue","infosArray","setInfoArray","FavouriteComponent","favouriteComponent","getMovieRequest","url","fetch","response","json","responseJson","Search","getInfoMovie","movie","MovieInfos","Object","values","console","log","map","index","handleFavouritesClick"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./MovieList.css\";\nimport MovieListHeading from \"./MovieListHeading\";\nimport \"./Row.css\";\nimport SearchBox from \"./SearchBox\";\nimport InfoComponent from \"./Info\";\n\nfunction MovieList(props) {\n  const [movies, setMovies] = useState([\n    {\n      Title: \"Alien\",\n      Year: \"1979\",\n      imdbID: \"tt0078748\",\n      Type: \"movie\",\n      Poster:\n        \"https://m.media-amazon.com/images/M/MV5BMmQ2MmU3NzktZjAxOC00ZDZhLTk4YzEtMDMyMzcxY2IwMDAyXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg\",\n    },\n    {\n      Title: \"Gladiator\",\n      Year: \"2000\",\n      imdbID: \"tt0172495\",\n      Type: \"movie\",\n      Poster:\n        \"https://m.media-amazon.com/images/M/MV5BMDliMmNhNDEtODUyOS00MjNlLTgxODEtN2U3NzIxMGVkZTA1L2ltYWdlXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_SX300.jpg\",\n    },\n    {\n      Title: \"The Lord of the Rings: The Fellowship of the Ring\",\n      Year: \"2001\",\n      imdbID: \"tt0120737\",\n      Type: \"movie\",\n      Poster:\n        \"https://m.media-amazon.com/images/M/MV5BN2EyZjM3NzUtNWUzMi00MTgxLWI0NTctMzY4M2VlOTdjZWRiXkEyXkFqcGdeQXVyNDUzOTQ5MjY@._V1_SX300.jpg\",\n    },\n    {\n      Title: \"Hacksaw Ridge\",\n      Year: \"2016\",\n      imdbID: \"tt2119532\",\n      Type: \"movie\",\n      Poster:\n        \"https://m.media-amazon.com/images/M/MV5BMjQ1NjM3MTUxNV5BMl5BanBnXkFtZTgwMDc5MTY5OTE@._V1_SX300.jpg\",\n    },\n    {\n      Title: \"A Quiet Place Part II\",\n      Year: \"2020\",\n      imdbID: \"tt8332922\",\n      Type: \"movie\",\n      Poster:\n        \"https://m.media-amazon.com/images/M/MV5BMTE2ODU4NDEtNmRjNS00OTk1LTg4NmMtNTAzYzVlNzJmYjgzXkEyXkFqcGdeQXVyODk4OTc3MTY@._V1_SX300.jpg\",\n    },\n    {\n      Title: \"The Godfather\",\n      Year: \"1972\",\n      imdbID: \"tt0068646\",\n      Type: \"movie\",\n      Poster:\n        \"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg\",\n    },\n    {\n      Title: \"Pulp Fiction\",\n      Year: \"1994\",\n      imdbID: \"tt0110912\",\n      Type: \"movie\",\n      Poster:\n        \"https://m.media-amazon.com/images/M/MV5BNGNhMDIzZTUtNTBlZi00MTRlLWFjM2ItYzViMjE3YzI5MjljXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg\",\n    },\n    {\n      Title: \"The Dark Knight\",\n      Year: \"2008\",\n      imdbID: \"tt0468569\",\n      Type: \"movie\",\n      Poster:\n        \"https://m.media-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_SX300.jpg\",\n    },\n  ]);\n\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [infosArray, setInfoArray] = useState([]);\n  const FavouriteComponent = props.favouriteComponent;\n\n  const getMovieRequest = async (searchValue) => {\n    const url = `http://www.omdbapi.com/?s=${searchValue}&apikey=fe790038`;\n    const response = await fetch(url);\n    const responseJson = await response.json();\n    if (responseJson.Search) {\n      setMovies(responseJson.Search);\n    }\n  };\n\n  const getInfoMovie = async (movie) => {\n    const url = `http://www.omdbapi.com/?i=${movie.imdbID}&apikey=fe790038`;\n    const response = await fetch(url);\n    const responseJson = await response.json();\n    const MovieInfos = Object.values(responseJson);\n    console.log(MovieInfos);\n    if (MovieInfos) {\n      setInfoArray(MovieInfos);\n    }\n  };\n\n  useEffect(() => {\n    getMovieRequest(searchValue);\n  }, [searchValue]);\n\n  return [\n    <div>\n      <div className=\"row d-flex align-items-center mt-4 mb-2\">\n        <MovieListHeading heading=\"Movies\" />\n        <SearchBox searchValue={searchValue} setSearchValue={setSearchValue} />\n      </div>\n      <div className=\"row\">\n        <div className=\"row_posters\">\n          {movies.map((movie, index) => (\n            <div className=\"row_posterList\">\n              <img\n                className=\"\"\n                src={movie.Poster} //movies[13]\n                alt={movie.Title} //movies[0]\n              ></img>\n              <div\n                onClick={() => getInfoMovie(movie)}\n                className=\"info-overlay d-flex align-items-center justify-content-center\"\n              >\n                <InfoComponent />\n              </div>\n              <div\n                onClick={() => props.handleFavouritesClick(movie)}\n                className=\"overlay d-flex align-items-center justify-content-center\"\n              >\n                <FavouriteComponent />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n      <details>\n        <summary>\n          <h1 className=\"details-title\">Details</h1>\n        </summary>\n        <ul>\n          <li>Title : {infosArray[0]}</li>\n          <li>Year : {infosArray[1]}</li>\n          <li>Runtime : {infosArray[4]}</li>\n          <li>Director: {infosArray[6]}</li>\n          <li>Imdb Rating : {infosArray[16]}</li>\n          <li>Awards : {infosArray[12]}</li>\n          <li>Plot : {infosArray[9]}</li>\n        </ul>\n      </details>\n    </div>,\n  ];\n}\n\nexport default MovieList;\n"]},"metadata":{},"sourceType":"module"}